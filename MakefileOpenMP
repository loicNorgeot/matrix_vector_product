CXX=icpc
FLAGS=-fopenmp -O3 -lm

matrix.o : matrix.cpp matrix.h
	$(CXX) -c matrix.cpp $(FLAGS)

vector.o : vector.cpp vector.h
	$(CXX) -c vector.cpp $(FLAGS)

linearsystem.o : linearsystem.cpp linearsystem.h
	$(CXX) -c linearsystem.cpp $(FLAGS)

csrmatrix.o : csrmatrix.cpp csrmatrix.h
	$(CXX) -c csrmatrix.cpp $(FLAGS)

fonctions_main.o : fonctions_main.cpp fonctions_main.h
	$(CXX) -c fonctions_main.cpp $(FLAGS)

mainOpenMP.o : mainOpenMP.cpp vector.h matrix.h linearsystem.h csrmatrix.h
	$(CXX) -c mainOpenMP.cpp $(FLAGS)

main : vector.o matrix.o linearsystem.o csrmatrix.o fonctions_main.o mainOpenMP.o
	$(CXX) -o main vector.o matrix.o linearsystem.o csrmatrix.o fonctions_main.o mainOpenMP.o $(FLAGS)
